{"ast":null,"code":"import _defineProperty from \"/Users/catherineli/Documents/GitHub/webapps2019/react_app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/Users/catherineli/Documents/GitHub/webapps2019/react_app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/catherineli/Documents/GitHub/webapps2019/react_app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/catherineli/Documents/GitHub/webapps2019/react_app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/catherineli/Documents/GitHub/webapps2019/react_app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/catherineli/Documents/GitHub/webapps2019/react_app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/catherineli/Documents/GitHub/webapps2019/react_app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/catherineli/Documents/GitHub/webapps2019/react_app/src/Login.js\";\nimport React, { Component } from 'react';\nimport './Login.css';\nimport Alert from 'react-s-alert';\nimport 'react-s-alert/dist/s-alert-default.css';\nimport 'react-s-alert/dist/s-alert-css-effects/jelly.css';\n\nvar Login =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Login, _Component);\n\n  function Login(props) {\n    var _this;\n\n    _classCallCheck(this, Login);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Login).call(this, props));\n    _this.state = {\n      toHome: false,\n      toSignup: false,\n      username: '',\n      password: ''\n    };\n    _this.goSignup = _this.goSignup.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleSubmit = _this.handleSubmit.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.onChange = _this.onChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.server = \"http://localhost:5000\";\n    return _this;\n  }\n  /* ROUTE CHANGE */\n\n\n  _createClass(Login, [{\n    key: \"goSignup\",\n    value: function goSignup() {\n      this.props.history.push(\"/signup\");\n    }\n    /* STATE CHANGE METHODS */\n\n  }, {\n    key: \"onChange\",\n    value: function onChange(e) {\n      this.setState(_defineProperty({}, e.target.name, e.target.value));\n    }\n    /* USER LOGIN: Handles when a user logins. */\n\n  }, {\n    key: \"handleSubmit\",\n    value: function handleSubmit(event) {\n      var _this2 = this;\n\n      event.preventDefault();\n      fetch(this.server + \"/login\", {\n        mode: 'cors',\n        credentials: 'include',\n        method: 'POST',\n        headers: {\n          'Accept': 'application/json',\n          'Content-Type': 'application/json',\n          'Access-Control-Allow-Credentials': true\n        },\n        body: JSON.stringify({\n          username: this.state.username,\n          password: this.state.password\n        })\n      }).then(function (res) {\n        return res.text();\n      }).then(function (data) {\n        // if empty field, give error popup\n        if (data === \"empty\") {\n          Alert.error('Login fields cannot be empty.', {\n            position: 'bottom',\n            effect: 'jelly',\n            beep: false,\n            timeout: 'none',\n            offset: 600\n          });\n        } // if wrong password or username, give error popup\n\n\n        if (data === \"Wrong username or password.\") {\n          Alert.error('Wrong username or password.', {\n            position: 'bottom',\n            effect: 'jelly',\n            beep: false,\n            timeout: 'none',\n            offset: 600\n          });\n        } // move to home\n\n\n        if (data === \"success\") {\n          _this2.props.history.push(\"/home\");\n        }\n      }).catch(function (err) {\n        // handle err\n        console.log(err);\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        className: \"login-container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"super\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"welcome-text\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      }, \"MedHeroes\")), React.createElement(\"form\", {\n        onSubmit: this.handleSubmit,\n        className: \"loginForm\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"username\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      }, \" Username \"), React.createElement(\"input\", {\n        type: \"text\",\n        id: \"acct-input\",\n        name: \"username\",\n        onChange: this.onChange,\n        value: this.state.username,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"password\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107\n        },\n        __self: this\n      }, \" Password \"), React.createElement(\"input\", {\n        type: \"password\",\n        id: \"pass-input\",\n        name: \"password\",\n        onChange: this.onChange,\n        value: this.state.password,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"login\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110\n        },\n        __self: this\n      }, \" \", React.createElement(\"input\", {\n        type: \"submit\",\n        value: \"Login\",\n        id: \"submitButton\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        className: \"signup-wrapper\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"signup\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        id: \"make-acct\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      }, \" Don't have an account? \"), React.createElement(\"p\", {\n        id: \"make\",\n        onClick: this.goSignup,\n        className: \"signup-here\",\n        tabIndex: \"0\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115\n        },\n        __self: this\n      }, \" Sign up here!\"))), React.createElement(Alert, {\n        stack: {\n          limit: 2\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return Login;\n}(Component);\n\nexport default Login;","map":{"version":3,"sources":["/Users/catherineli/Documents/GitHub/webapps2019/react_app/src/Login.js"],"names":["React","Component","Alert","Login","props","state","toHome","toSignup","username","password","goSignup","bind","handleSubmit","onChange","server","history","push","e","setState","target","name","value","event","preventDefault","fetch","mode","credentials","method","headers","body","JSON","stringify","then","res","text","data","error","position","effect","beep","timeout","offset","catch","err","console","log","limit"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport './Login.css';\n\nimport Alert from 'react-s-alert';\nimport 'react-s-alert/dist/s-alert-default.css';\nimport 'react-s-alert/dist/s-alert-css-effects/jelly.css';\n\nclass Login extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      toHome: false,\n      toSignup: false,\n      username: '',\n      password: ''\n    }\n\n    this.goSignup = this.goSignup.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.onChange = this.onChange.bind(this);\n\n    this.server = \"http://localhost:5000\";\n  }\n\n  /* ROUTE CHANGE */\n  goSignup() {\n    this.props.history.push(\"/signup\")\n  }\n\n  /* STATE CHANGE METHODS */\n  onChange(e) {\n    this.setState({\n      [e.target.name]: e.target.value\n    });\n  }\n\n  /* USER LOGIN: Handles when a user logins. */\n  handleSubmit(event){\n    event.preventDefault()\n\n    fetch(this.server + \"/login\", {\n      mode: 'cors',\n      credentials: 'include',\n      method: 'POST',\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json',\n        'Access-Control-Allow-Credentials': true,\n      },\n      body: JSON.stringify({\n        username: this.state.username,\n        password: this.state.password,\n      })\n    })\n        .then(res => res.text())\n        .then(data => {\n          // if empty field, give error popup\n          if (data === \"empty\"){\n            Alert.error('Login fields cannot be empty.', {\n            position: 'bottom',\n            effect: 'jelly',\n            beep: false,\n            timeout: 'none',\n            offset: 600\n            });\n          }\n\n          // if wrong password or username, give error popup\n          if (data === \"Wrong username or password.\"){\n            Alert.error('Wrong username or password.', {\n            position: 'bottom',\n            effect: 'jelly',\n            beep: false,\n            timeout: 'none',\n            offset: 600\n            });\n          }\n\n          // move to home\n          if (data === \"success\"){\n            this.props.history.push(\"/home\");\n          }\n\n        }).catch(err => {\n      // handle err\n      console.log(err)\n    })\n  }\n\n  render() {\n    return (\n        <div className = \"login-container\">\n\n            <div className = \"super\">\n              <span className=\"welcome-text\">MedHeroes</span>\n            </div>\n\n\n            <form onSubmit = {this.handleSubmit} className=\"loginForm\">\n              <div className = \"username\">\n                <p> Username </p>\n                <input type=\"text\" id=\"acct-input\" name=\"username\" onChange={this.onChange} value={this.state.username}/>\n              </div>\n\n              <div className = \"password\">\n                <p> Password </p>\n                <input type=\"password\" id =\"pass-input\" name=\"password\" onChange={this.onChange} value={this.state.password}/>\n              </div>\n              <div className=\"login\"> <input type=\"submit\" value=\"Login\" id =\"submitButton\"/></div>\n            </form>\n          <div className=\"signup-wrapper\">\n            <div className=\"signup\">\n              <p id = \"make-acct\"> Don't have an account? </p>\n              <p id =\"make\" onClick ={this.goSignup} className=\"signup-here\" tabIndex=\"0\"> Sign up here!</p>\n            </div>\n          </div>\n\n\n          <Alert stack={{limit: 2}} />\n      </div>\n    );\n  }\n}\n\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}